{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAIMC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,aAwBrCH,EAAKC,OAAOK,iBAAiB,SAAS,EAAAR,EAAAS,WAkBtC,SAAiBC,GACfC,mBAAmBD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MA3BZC,EA4BPJ,mBA3B1BK,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,IAD7D,IAAmCA,C,GAQqB,MACxDb,EAAKC,OAAOK,iBAAiB,UAsB7B,SAAkBE,GAChBA,EAAEU,iBACFV,EAAEE,OAAOS,QA7B2BC,EAzBR,sBA0B5BN,aAAaO,WAAWD,GAD1B,IAAsCA,C,IAOtCE,OAAOC,OAEP,WAEE,GADAd,mBA3BF,WACE,IACE,IAAMe,EAAoBV,aAAaW,QAAQ,uBAC/C,GAAID,EACF,OAAOR,KAAKU,MAAMF,E,CAEpB,MAAOG,GACPC,QAAQC,IAAIF,EAAMhB,MAClBiB,QAAQC,IAAIF,EAAMG,Q,CAEpB,OAAO,C,CAiBcC,GACjBtB,mBACF,IAAK,IAAMuB,KAAMhC,EACXS,mBAAmBT,EAAKgC,GAAIrB,QAC9BX,EAAKgC,GAAIpB,MAAQH,mBAAmBT,EAAKgC,GAAIrB,YAIjDF,mBAAqB,E,CAXTwB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst STORAGE_FORM_DATA_KEY = 'feedback-form-state';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nfunction getFormDataInLocalStorage() {\n  try {\n    const feedbackFormState = localStorage.getItem('feedback-form-state');\n    if (feedbackFormState) {\n      return JSON.parse(feedbackFormState);\n    }\n  } catch (error) {\n    console.log(error.name);\n    console.log(error.message);\n  }\n  return false;\n}\n\nfunction setFormDataInLocalStorage(feedbackForm) {\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackForm));\n}\n\nfunction removeFormDataInLocalStorage(key) {\n  localStorage.removeItem(key);\n}\n\nrefs.formEl.addEventListener('input', throttle(onInput, 500));\nrefs.formEl.addEventListener('submit', onSubmit);\n\nwindow.onload = onLoadPage();\n\nfunction onLoadPage() {\n  DataInLocalStorage = getFormDataInLocalStorage();\n  if (DataInLocalStorage) {\n    for (const el in refs) {\n      if (DataInLocalStorage[refs[el].name]) {\n        refs[el].value = DataInLocalStorage[refs[el].name];\n      }\n    }\n  } else {\n    DataInLocalStorage = {};\n  }\n}\n\nfunction onInput(e) {\n  DataInLocalStorage[e.target.name] = e.target.value;\n  setFormDataInLocalStorage(DataInLocalStorage);\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  e.target.reset();\n  removeFormDataInLocalStorage(STORAGE_FORM_DATA_KEY);\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","formEl","document","querySelector","inputEl","textareaEl","addEventListener","throttle","e","DataInLocalStorage","target","name","value","feedbackForm","localStorage","setItem","JSON","stringify","preventDefault","reset","key","removeItem","window","onload","feedbackFormState","getItem","parse","error","console","log","message","$b00c40859be242c5$var$getFormDataInLocalStorage","el","$b00c40859be242c5$var$onLoadPage"],"version":3,"file":"03-feedback.6e8bf083.js.map"}